<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:jee="http://www.springframework.org/schema/jee"
	xmlns:jms="http://www.springframework.org/schema/jms" xmlns:oxm="http://www.springframework.org/schema/oxm"
	xmlns:p="http://www.springframework.org/schema/p" 
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
    http://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm-3.1.xsd
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/jms http://www.springframework.org/schema/jms/spring-jms.xsd
    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd">
    
    <bean id="resourceComponent" class="com.mango.mif.core.impl.DefaultResourceComponent"/>
    
	<!-- R Cli Runner state handlers -->
	<bean id="rCliStateHandlers" class="java.util.ArrayList" scope="prototype">
		<constructor-arg>
		<list>
				<bean class="com.mango.mif.rconnectorcli.runner.impl.RScriptStateHandler" scope="prototype">
					<constructor-arg  index="0" value="pending"/>
				</bean>
				<bean class="com.mango.mif.rconnectorcli.runner.impl.RScriptStateHandler" scope="prototype">
					<constructor-arg  index="0" value="running"/>
				</bean>
				<bean class="com.mango.mif.rconnectorcli.runner.impl.RScriptStateHandler" scope="prototype">
					<constructor-arg  index="0" value="task-pending"/>
					<constructor-arg  index="1" value="task.prepare"/>
				</bean>
				<bean class="com.mango.mif.rconnectorcli.runner.impl.PreparingStateHandler" scope="prototype">
					<constructor-arg  index="0" value="task-preparing"/>
					<constructor-arg  index="1" value="task.submit"/>
					<property name="resourceComponent" ref="resourceComponent"/>
				</bean>
				<bean id="rCliSubmittingStateHandler" class="com.mango.mif.rconnectorcli.runner.impl.SubmittingStateHandler" scope="prototype">
					<constructor-arg  index="0" value="task-submitting"/>
					<constructor-arg  index="1" value="task.process"/>
					<property name="resourceComponent" ref="resourceComponent"/>
				</bean>
				<bean id="rCliProcessingStateHandler" class="com.mango.mif.rconnectorcli.runner.impl.ProcessingStateHandler" scope="prototype">
					<constructor-arg  index="0" value="task-processing"/>
					<constructor-arg  index="1" value="task.retrieve"/>
				</bean>
				<bean id="rCliRetrievingStateHandler" class="com.mango.mif.rconnectorcli.runner.impl.RetrievingStateHandler" scope="prototype">
					<constructor-arg  index="0" value="task-retrieving"/>
					<constructor-arg  index="1" value="task.postprocess"/>
					<property name="resourceComponent" ref="resourceComponent"/>
				</bean>
				<bean class="com.mango.mif.rconnectorcli.runner.impl.RScriptStateHandler" scope="prototype">
					<constructor-arg  index="0" value="task-postprocessing"/>
					<constructor-arg  index="1" value="task.finished"/>
				</bean>
				<bean class="com.mango.mif.rconnectorcli.runner.impl.RScriptStateHandler" scope="prototype">
					<constructor-arg  index="0" value="task-finished"/>
					<constructor-arg  index="1" value="done.state.running"/>
				</bean>
				<bean class="com.mango.mif.rconnectorcli.runner.impl.RScriptStateHandler" scope="prototype">
					<constructor-arg  index="0" value="finished"/>
				</bean>
				<bean class="com.mango.mif.rconnectorcli.runner.impl.RScriptStateHandler" scope="prototype">
					<constructor-arg  index="0" value="failed"/>
				</bean>
	    	</list>
		</constructor-arg>
	</bean>
</beans>